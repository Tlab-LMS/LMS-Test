(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1014:function(t){t.exports=JSON.parse('{"title":{"id":"Tambah Penjualan","eng":"Add Sales"},"subtitle":{},"breadcrumb":[{"id":"Penjualan","eng":"Sales"}],"action":{"cancel":{"id":"Batal","eng":"Cancel"},"save":{"id":"Tambah Penjualan","eng":"Add Sales"},"addproduct":{"id":"Tambah Produk","eng":"Add Product"},"addPayment":{"id":"Tambah Metode Pembayaran Lain","eng":"Add Another Payment Method"}},"section":{"order":{"title":{"id":"Referensi Pesanan","eng":"Order Reference"},"actions":{"edit":{"id":"Ubah Referensi","eng":"Edit Reference"},"add":{"id":"Tambah Referensi","eng":"Add Reference"}}},"basic":{"title":{"id":"Informasi Penjualan","eng":"Sales Basic Information"}},"header":{"order":{"title":{"id":"Invoice","eng":"Invoice"},"date":{"id":"Tanggal","eng":"Date"},"number":{"id":"No. Order","eng":"No. Order"},"transaction":{"id":"Jalur Transaksi","eng":"Transaction Type"},"edit":{"id":"Ubah","eng":"Edit"}},"customer":{"title":{"id":"Customer","eng":"Customer"}},"marketer":{"title":{"id":"Marketer","eng":"Marketer"}}},"tag":{"title":{"id":"Informasi Label","eng":"Tags Information"}},"product":{"title":{"id":"Item Penjualan","eng":"Sales Item"},"labels":{"noItem":{"id":"Belum ada item","eng":"No item"},"addon":{"id":"Tambahan","eng":"Addon"},"info":{"id":"Informasi Produk","eng":"Product Info"},"sn":{"id":"Nomor Seri","eng":"Serial Number"},"cn":{"id":"CN","eng":"SN"}},"table":{"item":{"id":"Item","eng":"Item"},"notes":{"id":"Catatan","eng":"Notes"},"price":{"id":"Harga","eng":"Price"},"discount":{"id":"Diskon","eng":"Discount"},"qty":{"id":"Jumlah","eng":"Qty"},"net":{"id":"Net","eng":"Net"}},"actions":{"addNote":{"id":"Catatan","eng":"Note"},"editNote":{"id":"Ubah","eng":"Edit"},"addInfo":{"id":"Informasi Produk","eng":"Product Information"},"addAddon":{"id":"Tambah Tambahan","eng":"Add Addon"},"more":{"id":"Lihat #n# Lainnya","eng":"View #n# More"},"less":{"id":"Sembunyikan","eng":"Less"}},"errors":{"sku":{"id":"Informasi serial tidak sesuai","eng":"Invalid serial information"}}},"addon":{"title":{"id":"Item Tambahan","eng":"Addon Item"}},"billing":{"title":{"id":"Tagihan","eng":"Billing"},"billed":{"net":{"id":"Total Belanja","eng":"Total Shopping"},"total":{"id":"Total Tagihan","eng":"Billed Ammount"},"discount":{"id":"Diskon","eng":"Discount"}}},"payment":{"title":{"id":"Pembayaran","eng":"Payment"},"method":{"cash":{"id":"Pembayaran Tunai","eng":"Cash Payment"}},"errors":{"invalid":{"id":"Jumlah pembayaran tidak valid","eng":"Payment amount invalid"}},"state":{"empty":{"id":"Metode pembayaran belum diatur","eng":"Payment methodd not configured yet"}},"change":{"id":"Kembalian","eng":"Change"},"depositTotal":{"id":"Total Deposit","eng":"Deposit Total"},"paymentTotal":{"id":"Total Bayar","eng":"Payment Total"},"deficit":{"id":"Kekurangan","eng":"Deficit"}},"customer":{"title":{"id":"Pembeli","eng":"Buyer"},"nodata":{"id":"Belum input data pembeli","eng":"No customer data"},"actions":{"update":{"id":"Perbarui","eng":"Update"},"delete":{"id":"Hapus","eng":"Delete"},"create":{"id":"Pembeli Baru?","eng":"New Buyer?"}}},"marketer":{"title":{"id":"Pemasar","eng":"Marketer"},"nodata":{"id":"Belum input data pemasar","eng":"No marketer data"},"actions":{"delete":{"id":"Hapus","eng":"Delete"}}}},"confirmation":{"remove":{"id":"Anda akan menghapus data #n# dari daftar?","eng":"You\'re about to delete #n# from the list"},"changeOutlet":{"id":"Anda akan mengubah outlet? data transaksi akan di terhapus","eng":"You want to reset outlet? transaction data will be reset"}},"alert":{"success":{"id":"Data penjualan berhasil ditambahkan","eng":"Sales data successfully added"},"error":{"id":"Data penjualan tidak berhasil ditambahkan","eng":"Unable add sales data"},"invalidInput":{"id":"Input tidak valid","eng":"Invalid Input"}}}')},1015:function(t,e,n){"use strict";n(544)},1016:function(t,e,n){var r=n(65)(!1);r.push([t.i,".pointer{cursor:pointer}",""]),t.exports=r},1040:function(t,e,n){"use strict";n.r(e);n(5),n(4),n(1),n(6),n(7);var r=n(565),o=n(0),l=(n(32),n(19),n(3),n(10),n(15),n(12),n(441)),c=n(442),d={cancelToken:null,timeout:l.timeout,request:function(t){var e=l.endpoints.application_create;return this.cancelToken&&c.a.tryCancelRequest(this.cancelToken),this.cancelToken=c.a.generateCancelToken(),t.query&&Object.keys(t.query).forEach((function(q){e=e.replace("{"+q+"}",t.query[q])})),c.a.post({api:"".concat(l.url).concat(e),token:t.token,params:t.params,cancelToken:this.cancelToken,timeout:this.timeout})},cancel:function(){this.cancelToken&&c.a.tryCancelRequest(this.cancelToken)}},h={data:function(){return{creditApplicationCreate_isLoading:!1,creditApplicationCreate_isError:!1,creditApplicationCreate:d}},methods:{request_creditApplicationCreate:function(){if(!this.creditApplicationCreate_isLoading){this.creditApplicationCreate_isLoading=!0,this.creditApplicationCreate_isError=!1;var t=this;this.creditApplicationCreate.request({token:this.$store.state.uac.token,params:this.setInput_creditApplicationCreate()}).then((function(e){function n(){t.creditApplicationCreate_isLoading=!1}t.creditApplicationCreate_successCallback?t.creditApplicationCreate_successCallback(e,n,(function(t){throw new Error(t)})):n()})).catch((function(e){function n(){t.creditApplicationCreate_isLoading=!1,t.creditApplicationCreate_isError=!0}"cancel"!==e&&(t.creditApplicationCreate_errorCallback?t.creditApplicationCreate_errorCallback(e,n):n())}))}},cancel_creditApplicationCreate:function(){this.creditApplicationCreate.cancel()}}},m=n(503),f=n(443),v={perPage:l.perpage,totalData:0,totalPage:0,filters:{},sorts:{},cancelToken:null,timeout:l.timeout,request:function(t){var e=this,n=l.endpoints.debtor_list;return this.cancelToken&&c.a.tryCancelRequest(this.cancelToken),this.cancelToken=c.a.generateCancelToken(),t.query&&Object.keys(t.query).forEach((function(q){n=n.replace("{"+q+"}",t.query[q])})),c.a.get({api:"".concat(l.url).concat(n),token:t.token,params:t.params,cancelToken:this.cancelToken,timeout:this.timeout},(function(dt,t){e.filters=dt.data.data.filters?JSON.parse(JSON.stringify(dt.data.data.filters)):{},e.totalData=dt.data.data.stats.data_count,e.totalPage=Math.ceil(dt.data.data.stats.data_count/e.perPage),dt.data.data=dt.data.data.datas}))},cancel:function(){this.cancelToken&&c.a.tryCancelRequest(this.cancelToken)}};function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var k={data:function(){return{debtorList_datas:[],debtorList_isLoading:!0,debtorList_isError:!1,debtorList_isEmpty:!1,debtorList_currentPage:1,debtorList:v}},watch:{debtorList_currentPage:function(){this.request_debtorList()}},methods:{handlePageChanged_debtorList:function(){this.request_debtorList()},request_debtorList:function(){this.debtorList_isLoading=!0,this.debtorList_isError=!1,this.debtorList_isEmpty=!1;var t={};this.setFilter_debtorList&&(t=this.setFilter_debtorList());var e=this;this.debtorList.request({token:this.$store.state.uac.token,params:y(y({},t),{},{skip:this.debtorList.perPage*(this.debtorList_currentPage-1),take:this.debtorList.perPage})}).then((function(t){function n(){e.debtorList_isLoading=!1}e.debtorList_successCallback?e.debtorList_successCallback(t,n,(function(t){throw new Error(t)})):(t.length>0?e.debtorList_datas=t:(e.debtorList_datas=[],e.debtorList_isEmpty=!0),n())})).catch((function(t){function n(){e.debtorList_isLoading=!1,e.debtorList_isError=!0}"cancel"!==t&&(e.debtorList_errorCallback?e.debtorList_errorCallback(t,n):n())}))},cancel_debtorList:function(){this.debtorList.cancel()}}},C=n(42),w=(n(75),n(21),n(110),n(13),n(2)),x=n.n(w),S=(n(345),n(449)),P={components:{},props:{itemData:{default:function(){return{}},type:Object},index:{default:0,type:Number},isSelecting:{default:!1,type:Boolean},isSelected:{default:!1,type:Boolean}},data:function(){return{lang:this.$store.getters["app/getLanguage"],labelPage:n(460),labelGeneral:n(33),dropMenu:n(445).example.indexChild}},mounted:function(){},methods:{statusPeriod:S.c}},L=n(25),D=Object(L.a)(P,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{ref:"list-group-"+t.index,staticClass:"list-group-item clickable no-radius",on:{click:function(e){return t.$emit("click",t.itemData)}}},[r("div",{staticClass:"row align-items-center text-capitalize"},[t.itemData.isNew?r("div",{staticClass:"ribbon-wrapper"},[r("div",{staticClass:"ribbon text-uppercase"},[t._v("\n        "+t._s(t.labelGeneral.new[t.lang])+"\n      ")])]):t._e(),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.isSelecting,expression:"isSelecting"}],staticClass:"col-auto px-2 text-center"},[r("div",{staticClass:"row mx-0 select-group"},[r("div",{staticClass:"check d-flex pl-2"},[r("img",{directives:[{name:"show",rawName:"v-show",value:!t.isSelected,expression:"!isSelected"}],attrs:{src:n(453),width:"13"}}),t._v(" "),r("img",{directives:[{name:"show",rawName:"v-show",value:t.isSelected,expression:"isSelected"}],attrs:{src:n(454),width:"13"}})])])]),t._v(" "),r("div",{staticClass:"col px-2"},[r("p",{staticClass:"mb-0 list-text"},[t._v("\n        "+t._s(t.itemData.nik)+"\n      ")])]),t._v(" "),r("div",{staticClass:"col px-2"},[r("p",{staticClass:"mb-0 list-text"},[t._v("\n        "+t._s(t.itemData.nkk)+"\n      ")])]),t._v(" "),r("div",{staticClass:"col px-2"},[r("p",{staticClass:"mb-0 list-text"},[t._v("\n        "+t._s(t.itemData.name)+"\n      ")])]),t._v(" "),r("div",{staticClass:"col px-2"},[r("p",{staticClass:"mb-0 list-text"},[t._v("\n        "+t._s(t._f("toDate")(t.itemData.profile.birthday?t.itemData.profile.birthday:"-"))+"\n      ")])]),t._v(" "),r("div",{staticClass:"col px-2"},[r("p",{staticClass:"mb-0 list-text"},[t._v("\n        "+t._s(t.itemData.total_application)+" Pengajuan\n      ")])])])])}),[],!1,null,null,null).exports,O={components:{},props:{isSelected:{default:!1,type:Boolean},isShowSelectBox:{default:!1,type:Boolean}},data:function(){return{lang:this.$store.getters["app/getLanguage"],labelPage:n(460).table,menus:n(445).credit.indexTitle}}},header=Object(L.a)(O,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row align-items-center title-header"},[t.isShowSelectBox?r("div",{staticClass:"col-auto px-2 text-right"},[r("div",{staticClass:"row mx-0 select-group",on:{click:function(e){return t.$emit("select",!t.isSelected)}}},[r("div",{staticClass:"check d-flex pl-2"},[r("img",{directives:[{name:"show",rawName:"v-show",value:!t.isSelected,expression:"!isSelected"}],attrs:{src:n(453),width:"13"}}),t._v(" "),r("img",{directives:[{name:"show",rawName:"v-show",value:t.isSelected,expression:"isSelected"}],attrs:{src:n(454),width:"13"}})])])]):t._e(),t._v(" "),r("div",{staticClass:"col px-2"},[r("div",{staticClass:"d-flex flex-row title text-secondary align-items-center"},[t._v("\n      "+t._s(t.labelPage.nik[t.lang])),r("br")])]),t._v(" "),r("div",{staticClass:"col px-2"},[r("div",{staticClass:"d-flex flex-row title text-secondary align-items-center"},[t._v("\n      "+t._s(t.labelPage.nkk[t.lang])),r("br")])]),t._v(" "),r("div",{staticClass:"col px-2"},[r("div",{staticClass:"d-flex flex-row title text-secondary align-items-center"},[t._v("\n      "+t._s(t.labelPage.name[t.lang])),r("br")])]),t._v(" "),r("div",{staticClass:"col px-2"},[r("div",{staticClass:"d-flex flex-row title text-secondary align-items-center"},[t._v("\n      "+t._s(t.labelPage.birthday[t.lang])),r("br")])]),t._v(" "),r("div",{staticClass:"col px-2"},[r("div",{staticClass:"d-flex flex-row title text-secondary align-items-center"},[t._v("\n      "+t._s(t.labelPage.history[t.lang])),r("br")])])])}),[],!1,null,null,null).exports,A=n(560),I=n(561),j=n(562),T=n(450),E=n(491),filter=n(555),N=n(346).flagnew,$={mixins:[Object(filter.a)(n(512).sales)],components:{compListItem:D,compListHeader:header,compModalFilterSelect:A.a,compModalFilterCheck:I.a,compModalFilterNumberRange:j.a},mounted:function(){var t=this;this.init(),this.$root.$on("filterChanged",(function(e){t.generateUrl()}))},destroyed:function(){this.$root.$off("filterChanged")},watch:{$route:function(t){this.handleQueryString(t.query)}},methods:{formatNumber:T.b,setFilter_creditApplicationList:function(){var filter={search:this.searchquery},t=this.filterIndex.indexOf("status");if(t>=0&&(filter.is_active=this.filter[t]),this.sort){var e=this.sort.split("-");filter["sort["+e[0]+"]"]=e[1]}return filter},handleQueryString:function(param){this.$refs.searchBar&&(this.$refs.searchBar.setData(param.search),this.handleSearch(param.search)),param.status&&this.handleFilterApplied(param.status,"status"),param.sort&&this.handleSort(param.sort),this.request_creditApplicationList()},creditApplicationList_successCallback:function(t,e,n){t&&0!==t.length||(this.creditApplicationList_isEmpty=!0,e());var r=E.a.functionGetTrueTime({serverTime:x()(Date("now")),clientMicroTime:E.a.functionEpochNow(),timeZone:""});this.creditApplicationList_datas=t.map((function(dt){return dt.created_at?dt.isNew=x()(dt.created_at).add(N.value,N.key).isAfter(r):dt.isNew=!1,dt})),e()},generateUrl:function(){var t="";if(this.searchquery&&(t=this.filterGenerateUrlString(t,"search",this.searchquery)),this.filterIndex&&this.filterIndex.length>0)for(var e in this.filterIndex)if("object"===Object(C.a)(this.filter[e]))for(var n in this.filter[e])t=this.filterGenerateUrlString(t,this.filterIndex[e]+"[]",this.filter[e][n]);else t=this.filterGenerateUrlString(t,this.filterIndex[e],this.filter[e]);this.sort?t=this.filterGenerateUrlString(t,"sort",this.sort):this.filterSetDefaultSort(),this.navigateTo(this,this.$route.path+(0===Object.keys(t).length?"":"?")+t,!0)},handleBack:function(){this.isWithProps?this.navigateBack():this.navigateTo(this,"/dashboard/sales",!1)},handleListClick:function(param){var t=this;this.isSelecting&&(this.functionCart.togle(param),t.$nextTick((function(){t.selected=t.functionCart.indexer})),t.functionCart.carts.length===t.creditApplicationList_datas.length?t.isSelectedAll=!0:t.isSelectedAll=!1)},handlePageChanged:function(dt){this.creditApplicationList_currentPage=dt,this.request_creditApplicationList()}}},K=n(456),M=n(145),B=n(448),H=n(447),J=n(458),R=n(446),F={components:{layoutManager:B.a,layoutEmpty:H.a,layoutError:J.a,compPagination:K.a,compSearchbar:M.a},props:{functionCart:{type:Object,default:function(){return new R.a}}},data:function(){return{lang:this.$store.getters["app/getLanguage"],labelGeneral:n(33),isModalShow:!1,searchQuery:null}},methods:{show:function(dt){this.onModalShowing&&this.onModalShowing(dt),this.isModalShow=!0},apply:function(){this.$emit("done"),this.isModalShow=!1},reset:function(){this.functionCart.reset()},handleClick:function(dt){this.$emit("click",dt)}}},U=n(566),G=n(563),Q=n(564),Y={components:{compListHeader:G.a,compListItem:Q.a},mixins:[F,U.a],data:function(){return{labelComponent:n(516).debtor,isModalChildShow:!1,sharedSelectedData:null,debtor:null}},watch:{},methods:{formatNumber:T.b,onModalShowing:function(){this.creditDebtorHistory_isLoading=!0,this.searchquery=null,console.log("this.debtor",this.debtor)},onModalShown:function(){this.creditDebtorHistory_isLoading=!0;var t=this,e=setTimeout((function(){t.request_creditDebtorHistory(),clearTimeout(e),t=null}),500)},setFilter_creditDebtorHistory:function(){return{debtor_nik:this.debtor.nik}},resetChild:function(){},handleSearch:function(q){this.searchquery=q,this.request_creditDebtorHistory()},handleSelect:function(){this.apply(),this.$emit("selected",this.debtor)}}},z=Object(L.a)(Y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{"content-class":"rounded",title:t.labelComponent.title[t.lang],size:"lg","no-close-on-esc":"","no-close-on-backdrop":"",centered:""},on:{shown:t.onModalShown},scopedSlots:t._u([{key:"default",fn:function(){return[n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"topbar"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-3"},[n("p",{staticClass:"mb-1 list-text"},[t._v("\n                "+t._s(t.labelComponent.table.nik[t.lang])+"\n              ")])]),t._v(" "),n("div",{staticClass:"col-3"},[n("p",{staticClass:"mb-1 list-text"},[t._v("\n                "+t._s(t.debtor.nik)+"\n              ")])])]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-3"},[n("p",{staticClass:"mb-1 list-text"},[t._v("\n                "+t._s(t.labelComponent.table.nkk[t.lang])+"\n              ")])]),t._v(" "),n("div",{staticClass:"col-3"},[n("p",{staticClass:"mb-1 list-text"},[t._v("\n                "+t._s(t.debtor.nkk)+"\n              ")])])]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-3"},[n("p",{staticClass:"mb-1 list-text"},[t._v("\n                "+t._s(t.labelComponent.table.name[t.lang])+"\n              ")])]),t._v(" "),n("div",{staticClass:"col-3"},[n("p",{staticClass:"mb-1 list-text"},[t._v("\n                "+t._s(t.debtor.name)+"\n              ")])])]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-3"},[n("p",{staticClass:"mb-1 list-text"},[t._v("\n                "+t._s(t.labelComponent.table.birthday[t.lang])+"\n              ")])]),t._v(" "),n("div",{staticClass:"col-3"},[n("p",{staticClass:"mb-1 list-text"},[t._v("\n                "+t._s(t._f("toDate")(t.debtor.profile.birthday))+"\n              ")])])]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-3"},[n("p",{staticClass:"mb-1 list-text"},[t._v("\n                "+t._s(t.labelComponent.table.address[t.lang])+"\n              ")])]),t._v(" "),n("div",{staticClass:"col-3"},[n("p",{staticClass:"mb-1 list-text"},[t._v("\n                "+t._s(t.debtor.address.address)+"\n              ")])])]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("p",{staticClass:"text-secondary"},[t._v("\n                "+t._s(t.labelComponent.subtitle[t.lang])+"\n              ")])])]),t._v(" "),n("compListHeader",{staticClass:"mt-3"}),t._v(" "),n("div",{staticClass:"content"},[n("layoutManager",{staticClass:"mx-3",attrs:{"is-loading":t.creditDebtorHistory_isLoading,"is-error":t.creditDebtorHistory_isError,"is-empty":t.creditDebtorHistory_isEmpty},scopedSlots:t._u([{key:"loader",fn:function(){return t._l(5,(function(t,i){return n("b-skeleton",{key:i,staticClass:"mt-2",attrs:{height:"45px","no-aspect":"true"}})}))},proxy:!0},{key:"error",fn:function(){return[n("layoutError",{attrs:{label:t.labelComponent.states.error[t.lang],action:t.labelGeneral.retry[t.lang]},on:{action:t.request_creditDebtorHistory}})]},proxy:!0},{key:"empty",fn:function(){return[n("layoutEmpty")]},proxy:!0},{key:"content",fn:function(){return[t._l(t.creditDebtorHistory_datas,(function(t,e){return n("compListItem",{key:"cat"+e,attrs:{"item-data":t,index:e}})})),t._v(" "),n("div",{staticClass:"row mt-3"},[n("div",{staticClass:"col-4 offset-4"},[n("compPagination",{attrs:{"current-page":t.creditDebtorHistory_currentPage,"max-page":t.creditDebtorHistory.totalPage}})],1)])]},proxy:!0}])})],1)],1)])]},proxy:!0},{key:"modal-footer",fn:function(){return[n("button",{staticClass:"btn btn-primary",on:{click:t.handleSelect}},[t._v("\n        Pakai Data ini\n      ")])]},proxy:!0}]),model:{value:t.isModalShow,callback:function(e){t.isModalShow=e},expression:"isModalShow"}})],1)}),[],!1,null,"e958719c",null).exports,V=n(93);function W(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Z(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?W(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):W(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var X={components:{modalHistoryDebtor:z},mixins:[k,$,m.a,f.a],props:{value:{type:Object,default:function(){return{}}},errors:{default:function(){return{}},type:Object}},data:function(){return{labelComponent:n(588),labelPage:n(460),lang:this.$store.getters["app/getLanguage"],gvm:this,isSelecting:!1,isSelectedAll:!1,isSearch:!1,input:{cari:null},functionCart:new R.a}},watch:{errors:function(t){this.inputErrors=t}},created:function(){this.syncData()},mounted:function(){this.$on("confirmed",(function(t){switch(t.key){case"add_data":break;default:console.log("Need handler on evemt : confirmed - ",t.key)}}))},destroyed:function(){this.$off("confirmed")},methods:Z(Z({},V.a),{},{init:function(){},handleSubmit:function(){this.$emit("submit",this.input)},handleCancel:function(){this.$emit("cancel")},handleReset:function(){this.isSearch=!1,this.input={cari:null},this.$emit("reset")},handleSearch:function(){this.validateInput("cari")&&(this.isSearch=!0,this.request_debtorList())},handleOpenModal:function(data){this.$refs.modalHistoryDebtor.debtor=data,this.$refs.modalHistoryDebtor.show()},handleMenuTitle:function(param){switch(param){case"refresh":this.request_debtorList();break;case"detail":this.selectAction=null,this.isSelecting=!1;break;default:this.selectAction=param,this.isSelecting=!0}},handleSelectDebtor:function(data){this.$emit("selected",data)},handleMenu:function(){console.log("handle menu")},setFilter_debtorList:function(){return{"search[doc_no]":this.input.cari}},setInput:function(input){input&&Object.keys(input).length>0&&(this.input=input)},syncData:function(){this.$emit("input",this.input)},update:function(t,e){this.validateInput(t),this.$emit("input",Z(Z({},this.input),{},Object(o.a)({},t,e)))}})},tt=Object(L.a)(X,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("h6",{staticClass:"text-secondary"},[t._v("\n        "+t._s(t.labelComponent.title.debitur[t.lang])+"\n      ")])])]),t._v(" "),n("div",{staticClass:"row mb-2"},[n("div",{staticClass:"col-12 col-sm-3"},[n("label",{staticClass:"col-form-label"},[t._v("\n        "+t._s(t.labelComponent.input.cari.label[t.lang])+"\n      ")])]),t._v(" "),n("div",{staticClass:"col-12 col-sm-9"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.cari,expression:"input.cari"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.labelComponent.input.cari.placeholder[t.lang]},domProps:{value:t.input.cari},on:{change:function(e){return t.update("cari",t.input.cari)},input:function(e){e.target.composing||t.$set(t.input,"cari",e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-primary",on:{click:t.handleSearch}},[t._v("\n            Cari\n          ")])])]),t._v(" "),n("E",{attrs:{e:t.inputErrors.cari}})],1)]),t._v(" "),n("hr",{directives:[{name:"show",rawName:"v-show",value:t.isSearch,expression:"isSearch"}]}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isSearch,expression:"isSearch"}],staticClass:"row mt-3"},[n("div",{staticClass:"col-6"},[n("h6",{staticClass:"text-secondary"},[t._v("\n        "+t._s(t.labelComponent.subtitle.debitur[t.lang])+"\n      ")])]),t._v(" "),n("div",{staticClass:"col-12"},[n("ul",{staticClass:"list-group"},[n("li",{staticClass:"list-group-item border-top-0 border-bottom-0 border-left-0 border-right-0 bg-transparent pb-0"},[n("compListHeader",{attrs:{"is-selected":t.isSelectedAll,"is-show-select-box":t.isSelecting},on:{select:function(param){t.handleSelectAll(param)},menuClick:t.handleMenuTitle}})],1)]),t._v(" "),n("div",{staticClass:"row mb-5"},[n("div",{staticClass:"col-12 mb-5"},[n("layoutList",{attrs:{"is-loading":t.debtorList_isLoading,"is-error":t.debtorList_isError,"is-empty":t.debtorList_isEmpty},scopedSlots:t._u([{key:"title",fn:function(){},proxy:!0},{key:"loader",fn:function(){return t._l(5,(function(t,i){return n("b-skeleton",{key:i,staticClass:"mt-2",attrs:{height:"51px","no-aspect":"true"}})}))},proxy:!0},{key:"error",fn:function(){return[n("layoutError",{attrs:{label:t.labelPage.state.error.label[t.lang],action:t.labelPage.state.error.action[t.lang]},on:{action:function(e){return t.request_debtorList()}}})]},proxy:!0},{key:"empty",fn:function(){return[n("layoutEmpty",{attrs:{label:t.labelPage.state.nodata.label[t.lang],action:t.labelPage.state.nodata.action[t.lang]},on:{action:function(e){return t.$emit("nextStep")}}})]},proxy:!0},{key:"content",fn:function(){return t._l(t.debtorList_datas,(function(data,e){return n("compListItem",{key:"cat"+e,attrs:{"item-data":data,index:e,"is-selected":t.functionCart.inCart(data.id),"is-selecting":t.isSelecting},on:{click:function(e){return t.handleOpenModal(data)},clickMenuItem:t.handleMenu}})}))},proxy:!0}])})],1)])])]),t._v(" "),n("modalHistoryDebtor",{ref:"modalHistoryDebtor",attrs:{parent:t.$parent},on:{selected:t.handleSelectDebtor}}),t._v(" "),t._t("action")],2)}),[],!1,null,null,null).exports,et=n(556),it=n(557),nt=n(558),at=n(559),st=n(554),ot=n(55),lt=n(463),ct=n(504),ut=["catatan","id","isNew","tipeJaminan","nilaiTanah","nilaiBangunan","njopTanah","njopBangunan","nilaiTaksasi","nilaiKendaraan","nilaiBank"];function pt(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function ht(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?pt(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):pt(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var mt={components:{inputDebitur:tt,inputIdentitas:et.a,inputAnalisa:it.a,inputKredit:nt.a,inputJaminan:at.a,compModalFormJaminanBergerak:st.a},mixins:[m.a,h],layout:"dashboardMenuTop",data:function(){return{lang:this.$store.getters["app/getLanguage"],gvm:this,labelPage:n(1014),labelGeneral:n(33),current_step:1,selected:[],selecteAll:!1,isSelectedAll:!1,isSelecting:!1,calcTotal:0,payment:{},dt:!1,isLoading:!1,isError:!1,isEmpty:!1,inputDebitur:null,inputIdentitas:null,inputAnalisa:null,inputKredit:null,inputJaminan:null,componentError:{inputDebitur:!1,inputIdentitas:!1,inputAnalisa:!1,inputKredit:!1,inputJaminan:!1},input:{code:null,name:null,group:null,date:null,saldo_awal:0,saldo_akhir:0},functionCart:new R.a}},watch:{},mounted:function(){var t=this;this.init(),this.$on("confirmed",(function(e){switch(e.key){case"reset_form":t.handleReset();break;default:console.log("Need handler on evemt : confirmed - ",e.key)}}));var e=setTimeout((function(){clearTimeout(e)}),50)},destroyed:function(){this.$off("confirmed")},methods:ht(ht(ht({},V.a),ot.a),{},{init:function(){},setInput_creditApplicationCreate:function(){var input={uuid:Object(ct.a)(),debtor:{nik:this.inputIdentitas.nik,nkk:this.inputIdentitas.nkk,name:this.inputIdentitas.name,address:{address:this.inputIdentitas.address,rt:this.inputIdentitas.rt,rw:this.inputIdentitas.rw,kelurahan:this.inputIdentitas.kelurahan,kecamatan:this.inputIdentitas.kecamatan,kota:this.inputIdentitas.kota},profile:{birthday:this.inputIdentitas.birthday,sex:this.inputIdentitas.sex,religion:this.inputIdentitas.religion,status:this.inputIdentitas.status,employment:this.inputIdentitas.employment,nationality:this.inputIdentitas.nationality},contact:{phone:this.inputIdentitas.phone}},assessment:{job:{employment:this.inputAnalisa.employment,employment_description:this.inputAnalisa.employment_description},financial_statement:{child:this.inputAnalisa.child,income_per_month:this.inputAnalisa.income_per_month,outcome_per_month:this.inputAnalisa.outcome_per_month},relatives:{name:this.inputAnalisa.name,relation:this.inputAnalisa.relation,address:this.inputAnalisa.address,phone:this.inputAnalisa.phone}},loan:{fees:{administration_fee:this.inputKredit.administration_fee,insurance_fee:this.inputKredit.insurance_fee,legality_fee:this.inputKredit.legality_fee,others_fee:this.inputKredit.others_fee},amount:this.inputKredit.loan_amount,purpose:this.inputKredit.loan_purpose,tenor:{period:this.inputKredit.period,times:this.inputKredit.times},config:{type:this.inputKredit.type,payment_option:this.inputKredit.payment_option.key,interest_amount:this.inputKredit.interest_amount,interest_period:this.inputKredit.interest_period.key,penalty_amount:this.inputKredit.penalty_amount,penalty_period:this.inputKredit.penalty_period.key}},collaterals:[]},t=["nilaiTanah","nilaiBangunan","njopTanah","njopBangunan","nilaiTaksasi","nilaiKendaraan","nilaiBank"];return this.inputJaminan.jaminan.forEach((function(element){element.catatan,element.id,element.isNew,element.tipeJaminan,element.nilaiTanah,element.nilaiBangunan,element.njopTanah,element.njopBangunan,element.nilaiTaksasi,element.nilaiKendaraan,element.nilaiBank;var e=Object(r.a)(element,ut),n={};t.forEach((function(t){element[t]&&(n[t]=element[t])})),input.collaterals.push({type:element.tipeJaminan.value,taxation_amount:element.nilaiTaksasi,note:element.catatan,document:e,assessment:n})})),input},onHandleSubmit:function(){this.isLoading=!0,this.$refs.inputIdentitas.syncData(),this.$refs.inputAnalisa.syncData(),this.$refs.inputKredit.syncData(),this.$refs.inputJaminan.syncData();var t,e=!0;if(this.$refs.inputIdentitas.validate()||(this.componentError.inputIdentitas=!0,e=!1),this.$refs.inputAnalisa.validate()||(this.componentError.inputAnalisa=!0,e=!1),this.$refs.inputKredit.validate()||(this.componentError.inputKredit=!0,e=!1),!e)return this.isLoading=!1,void(t=this).$store.commit("alert/setAlert",{type:"fail",msg:t.labelPage.alert.invalidInput[t.lang]});this.request_creditApplicationCreate()},onHandleSelected:function(data){var t={nik:data.nik,name:data.name,birthday:data.profile.birthday,sex:data.profile.sex,address:data.address.address,rt:data.address.rt,rw:data.address.rw,kelurahan:data.address.kelurahan,kecamatan:data.address.kecamatan,kota:data.address.kota,religion:data.profile.religion,status:data.profile.status,employment:data.profile.employment,nationality:data.profile.nationality,nkk:data.nkk,phone:data.contact.phone};this.$refs.inputIdentitas.input=t,this.$refs.inputIdentitas.exist=!0,this.current_step+=1},onHandleNextStep:function(){this.$refs.inputIdentitas.handleReset(),this.current_step+=1},handleReset:function(){this.current_step=1,this.$refs.inputDebitur.handleReset(),this.$refs.inputIdentitas.handleReset(),this.$refs.inputAnalisa.handleReset(),this.$refs.inputKredit.handleReset(),this.$refs.inputJaminan.handleReset()},creditApplicationCreate_successCallback:function(t,e,n){this.isLoading=!1,this.$store.commit("alert/setAlert",{type:"success",msg:this.labelPage.alert.success[this.lang]}),e(),this.navigateTo(this,"/dashboard/credit/list",!1)},creditApplicationCreate_errorCallback:function(t,e){this.isLoading=!1,Object(lt.a)(this,t),e()}})},bt=(n(1015),Object(L.a)(mt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card mt-3",staticStyle:{"border-style":"none"}},[n("div",{staticClass:"card-body"},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row mt-2"},[n("div",{staticClass:"col-3"},[n("h6",{staticClass:"text-secondary"},[t._v("\n            Langkah Pengisian Form\n          ")]),t._v(" "),n("div",[n("button",{staticClass:"btn btn-block text-left mt-3 py-2",class:{"btn-primary":1===t.current_step,"b-1":1!==t.current_step,"b-danger":t.componentError.inputDebitur},on:{click:function(e){t.current_step=1,t.componentError.inputDebitur=!1}}},[t._v("\n              1. Cari Debitur\n            ")]),t._v(" "),n("button",{staticClass:"btn btn-block text-left mt-3 py-2",class:{"btn-primary":2===t.current_step,"b-1":2!==t.current_step,"b-danger":t.componentError.inputIdentitas},on:{click:function(e){t.current_step=2,t.componentError.inputIdentitas=!1}}},[t._v("\n              2. Data Identitas\n            ")]),t._v(" "),n("button",{staticClass:"btn btn-block text-left mt-3 py-2",class:{"btn-primary":3===t.current_step,"b-1":3!==t.current_step,"b-danger":t.componentError.inputAnalisa},on:{click:function(e){t.current_step=3,t.componentError.inputAnalisa=!1}}},[t._v("\n              3. Data Analisa\n            ")]),t._v(" "),n("button",{staticClass:"btn btn-block text-left mt-3 py-2",class:{"btn-primary":4===t.current_step,"b-1":4!==t.current_step,"b-danger":t.componentError.inputKredit},on:{click:function(e){t.current_step=4,t.componentError.inputKredit=!1}}},[t._v("\n              4. Informasi Kredit\n            ")]),t._v(" "),n("button",{staticClass:"btn btn-block text-left mt-3 py-2",class:{"btn-primary":5===t.current_step,"b-1":5!==t.current_step,"b-danger":t.componentError.inputJaminan},on:{click:function(e){t.current_step=5,t.componentError.inputJaminan=!1}}},[t._v("\n              5. Informasi Jaminan\n            ")]),t._v(" "),n("button",{staticClass:"btn btn-link text-danger text-left pl-0 mt-3",attrs:{type:"link"},on:{click:function(e){return t.functionConfirmationAsk(t.gvm,{title:"Anda Yakin Mereset Semua Form ?"},{ok:"danger",cancel:"outline-primary"},{key:"reset_form",data:t.data},!0)}}},[t._v("\n              Reset Form\n            ")])])]),t._v(" "),n("div",{staticClass:"col-8 offset-1"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("inputDebitur",{directives:[{name:"show",rawName:"v-show",value:1===t.current_step,expression:"current_step === 1"}],ref:"inputDebitur",on:{selected:t.onHandleSelected,nextStep:t.onHandleNextStep},model:{value:t.inputDebitur,callback:function(e){t.inputDebitur=e},expression:"inputDebitur"}}),t._v(" "),n("inputIdentitas",{directives:[{name:"show",rawName:"v-show",value:2===t.current_step,expression:"current_step === 2"}],ref:"inputIdentitas",model:{value:t.inputIdentitas,callback:function(e){t.inputIdentitas=e},expression:"inputIdentitas"}}),t._v(" "),n("inputAnalisa",{directives:[{name:"show",rawName:"v-show",value:3===t.current_step,expression:"current_step === 3"}],ref:"inputAnalisa",model:{value:t.inputAnalisa,callback:function(e){t.inputAnalisa=e},expression:"inputAnalisa"}}),t._v(" "),n("inputKredit",{directives:[{name:"show",rawName:"v-show",value:4===t.current_step,expression:"current_step === 4"}],ref:"inputKredit",model:{value:t.inputKredit,callback:function(e){t.inputKredit=e},expression:"inputKredit"}}),t._v(" "),n("inputJaminan",{directives:[{name:"show",rawName:"v-show",value:5===t.current_step,expression:"current_step === 5"}],ref:"inputJaminan",model:{value:t.inputJaminan,callback:function(e){t.inputJaminan=e},expression:"inputJaminan"}})],1)])])]),t._v(" "),n("compModalFormJaminanBergerak",{ref:"modalFormJaminanBergerak"}),t._v(" "),n("div",{staticClass:"card mt-3",staticStyle:{"border-style":"none"}},[n("div",{staticClass:"card-body",staticStyle:{padding:"0px"}},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-2 offset-8 text-right p-2"},[n("button",{directives:[{name:"show",rawName:"v-show",value:t.current_step>1,expression:"current_step > 1"}],staticClass:"btn btn-outline-primary btn-block",on:{click:function(e){t.current_step-=1}}},[t._v("\n                  Sebelumnya\n                ")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.current_step>1&&t.current_step<5,expression:"current_step > 1 && current_step < 5"}],staticClass:"col-2 text-right p-2"},[n("button",{staticClass:"btn btn-primary btn-block",on:{click:function(e){t.current_step+=1}}},[t._v("\n                  Selanjutnya\n                ")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:5===t.current_step,expression:"current_step === 5"}],staticClass:"col-2 text-right p-2"},[n("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:t.isLoading},on:{click:t.onHandleSubmit}},[t._v("\n                  Simpan\n                ")])])])])])])],1)])])}),[],!1,null,null,null));e.default=bt.exports},544:function(t,e,n){var content=n(1016);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(66).default)("45e3d886",content,!0,{sourceMap:!1})},588:function(t){t.exports=JSON.parse('{"title":{"debitur":{"id":"Cari Debitur","eng":"Search Debitur"}},"subtitle":{"debitur":{"id":"Pilih Debitur","eng":"Select Debitur"}},"input":{"cari":{"placeholder":{"id":"Cari NIK / NKK","eng":"Search NIK / NKK"},"label":{"id":"NIK/NKK","eng":"NIK/NKK"},"validator":[{"type":"required","value":"required"}]}}}')}}]);